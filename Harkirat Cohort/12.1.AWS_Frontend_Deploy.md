## How to deploy forntend on AWS

images, videos, svg files, jpeg files etc are objects and we should never store them in the conventional databases. Any data we will search upon should be stored in databases.
They should be stored in object stores. AWS have famous object store called S3 (Simple Storage 3).
Eg. users info, todo info, meta data of videos in yt like app, etc


### CDN
There are many object stores in there. let that be the source of truth, as people ask for file, dont distribute it directly from S3 url, rather use CDN url and tell what the source is...
We create a cloudfront distribution, we give it store and it give the url. Cloudfront has multiple servers around, when we go to the object link(video or image we want), out req goes to the closest cloudfront and it asks S3 the file and caches it, and everyone nearby wanting that file can get it from the cached thing in cloudfront, makes it easy and fast...

CDN creates bunch of POPs(Point of presence). If anyone asks for somehting through the cloudfront url is when there request will be routed to the closest pop. If the pop has it already there it gives it, if it doesnt have it there it gets it from the S3 and caches it.

So we need not just an object store(used for storage) we also need a cdn(used for distribution). you are charged for both of them. Distribution is pritty higher charged.
You dont cache backend in pop, as data people fetch from backend is pretty user specific so it doesnt make sense to cache backend in cdn.

- For frontends, mp4 files, images, Object stores  + CDNs are a better approach.
- You can’t use the same for backends, since every request returns a different response. Caching doesn’t make any sense there. (You can use edge networks for backends (deploy your backend on various servers on the internet) but data can’t be cached in there.)


## Build your React frontend
>
This approach will not work for frameworks that use Server side rendering (like Next.js)
This will work for basic React apps, HTML/CSS/JS apps
>

Now you made a react project, you run npm run build, that created a dist folder. To run it you can use a module called serve. So, you need to install serve.
"npm install -g serve"
"serve" (go to the dist folder and run)
It serves the project on the local host.
So, serve basically serves all the files in the folder in which you run the serve command.


### Creating an object store in AWS
In AWS, S3 is their object store offering. 
You can create a bucket in there. A bucket represents a logical place where you store all the files of a certain project.
Upload all the files in the dist folder of your react project to S3.
(You might be tempted to open your S3 bucket at this point, but don’t
Your S3 bucket should be blocked by default, and you should allow cloudfront (CDN) to access it.)
While making bucket we chose to block all public access, as we dont want people to access things from S3. We want to make cloudfront and make it access the dist in S3 and people access the files from the cdn link.

### Connecting Cloudfront
Step 1 - Create cloudfront distribution
- Go to cloudfront and create a new distribution. A distribution here means you’re creating a place from where content can be distributed.
Step 2 - Select your S3 bucket as the source
- Then set origin access to OAC origin access control settings then cloudfront will give you something, which you will put it on the dist in S3.
(Origin Access Control (OAC) is a feature in Cloudfront, which allows you to restrict direct access to the content stored in your origin, such as an Amazon S3 bucket or a web server, ensuring that users can only access the content through the CDN distribution and not by directly accessing the origin URL.)
- You can enable security protections.
- Default root object (index.html).

